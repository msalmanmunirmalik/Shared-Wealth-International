import{c as T,u as X,a as Z,r as i,j as e,B as c,A as p,t as v,e as b}from"./index-jGkTpxTQ.js";import{I as C}from"./input-D_GjArfa.js";import{T as ee}from"./textarea-BGH_JhKY.js";import{B as ae}from"./badge-CtJdjlLU.js";import{D as se,b as ne,c as te,d as le,e as ie}from"./dialog-OZY0Mc16.js";import{P as _}from"./plus-DpVbsJe3.js";import{S as A}from"./search-Cb5kEIKM.js";import{P as re,a as me,S as oe}from"./smile-DZfL7Om2.js";import{V as de}from"./video-BzvlEgXx.js";import{M as ce}from"./mail-Crp0So-Q.js";import{C as ue}from"./check-Bkvm6ROT.js";import{M as L}from"./message-circle-DDKi7l-1.js";import"./index-CZnwXLBu.js";import"./Combination-avDkI7Z3.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=T("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=T("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Ue=()=>{var F,U,V,W,w;const{user:s}=X(),{toast:f}=Z(),[z,x]=i.useState([]),[m,S]=i.useState(null),[D,N]=i.useState([]),[o,$]=i.useState([]),[u,j]=i.useState(""),[Ne,he]=i.useState(null),[d,y]=i.useState({receiverId:"",content:"",messageType:"text",attachments:[]}),[q,R]=i.useState(!0),[M,I]=i.useState(!1),[O,h]=i.useState(!1),k=i.useRef(null);i.useEffect(()=>{s&&(B(),H())},[s]),i.useEffect(()=>{G()},[D]);const B=async()=>{try{const{data:a,error:t}=await supabase.from("network_companies").select("id, name, sector, country, logo").eq("status","active").neq("user_id",s==null?void 0:s.id);if(!t&&a){const n=a.map(l=>({...l,isOnline:Math.random()>.5,lastSeen:new Date(Date.now()-Math.random()*864e5)}));$(n)}if(s){const{data:n,error:l}=await supabase.from("conversations").select("*").contains("participants",[s.id]).order("updated_at",{ascending:!1});!l&&n&&x(n)}}catch(a){console.error("Error loading data:",a)}finally{R(!1)}},H=()=>{if(!s)return;const a=supabase.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${s.id}`},t=>{const n=t.new;N(l=>[...l,n]),E(n)}).subscribe();return()=>{supabase.removeChannel(a)}},E=a=>{x(t=>{const n=t.find(l=>l.participants.includes(a.senderId)&&l.participants.includes(a.receiverId));return n?t.map(l=>l.id===n.id?{...l,lastMessage:a,unreadCount:l.unreadCount+1,updatedAt:new Date}:l):[{participants:[a.senderId,a.receiverId],lastMessage:a,unreadCount:1,isPinned:!1,isArchived:!1,createdAt:new Date,updatedAt:new Date},...t]})},K=async a=>{S(a);try{const{data:t,error:n}=await supabase.from("messages").select("*").or(`and(sender_id.eq.${s==null?void 0:s.id},receiver_id.eq.${a.participants.find(l=>l!==(s==null?void 0:s.id))}),and(sender_id.eq.${a.participants.find(l=>l!==(s==null?void 0:s.id))},receiver_id.eq.${s==null?void 0:s.id})`).order("created_at",{ascending:!0});if(!n&&t){N(t);const l=t.filter(r=>r.receiverId===(s==null?void 0:s.id)&&!r.isRead);if(l.length>0){const r=l.map(g=>g.id);await supabase.from("messages").update({is_read:!0}).in("id",r)}}}catch(t){console.error("Error loading conversation:",t)}},P=async()=>{if(!(!s||!m||!d.content.trim())){I(!0);try{const a=m.participants.find(g=>g!==s.id);if(!a)throw new Error("Receiver not found");const t={sender_id:s.id,receiver_id:a,content:d.content,message_type:d.messageType,attachments:d.attachments||[],is_read:!1,is_starred:!1,is_pinned:!1,reply_to_id:d.replyToId,created_at:new Date().toISOString()},{data:n,error:l}=await supabase.from("messages").insert(t).select().single();if(l)throw l;const r={...n,senderId:n.sender_id,receiverId:n.receiver_id,isRead:n.is_read,isStarred:n.is_starred,isPinned:n.is_pinned,replyToId:n.reply_to_id,createdAt:new Date(n.created_at)};N(g=>[...g,r]),y({...d,content:"",attachments:[]}),E(r),f({title:"Message Sent",description:"Your message has been sent successfully"})}catch(a){console.error("Error sending message:",a),f({title:"Send Failed",description:a.message||"An error occurred while sending the message",variant:"destructive"})}finally{I(!1)}}},Y=async a=>{try{const t={participants:[s==null?void 0:s.id,a.id],unread_count:0,is_pinned:!1,is_archived:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:n,error:l}=await supabase.from("conversations").insert(t).select().single();if(l)throw l;const r={...n,participants:n.participants,unreadCount:n.unread_count,isPinned:n.is_pinned,isArchived:n.is_archived,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)};x(g=>[r,...g]),S(r),N([]),h(!1),f({title:"Conversation Started",description:`Started a new conversation with ${a.name}`})}catch(t){console.error("Error starting conversation:",t),f({title:"Failed to Start Conversation",description:t.message||"An error occurred while starting the conversation",variant:"destructive"})}},G=()=>{var a;(a=k.current)==null||a.scrollIntoView({behavior:"smooth"})},J=o.filter(a=>a.name.toLowerCase().includes(u.toLowerCase())||a.sector.toLowerCase().includes(u.toLowerCase())||a.country.toLowerCase().includes(u.toLowerCase())),Q=z.filter(a=>{if(a.isArchived)return!1;if(u){const t=o.find(n=>a.participants.includes(n.id)&&n.id!==(s==null?void 0:s.id));return t&&(t.name.toLowerCase().includes(u.toLowerCase())||t.sector.toLowerCase().includes(u.toLowerCase()))}return!0});return q?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"rgb(245, 158, 11)"}},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Loading messaging system..."},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:379,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:378,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen flex",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"},children:[e.jsxDEV("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"Messages"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:394,columnNumber:13},void 0),e.jsxDEV(c,{size:"sm",onClick:()=>h(!0),className:"flex items-center gap-2",style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:[e.jsxDEV(_,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:401,columnNumber:15},void 0),"New"]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:395,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:393,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:407,columnNumber:13},void 0),e.jsxDEV(C,{placeholder:"Search conversations...",value:u,onChange:a=>j(a.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:408,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:406,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:392,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:Q.map(a=>{const t=o.find(n=>a.participants.includes(n.id)&&n.id!==(s==null?void 0:s.id));return t?e.jsxDEV("div",{className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(m==null?void 0:m.id)===a.id?"bg-blue-50 border-blue-200":""}`,onClick:()=>K(a),children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(p,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:t.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:436,columnNumber:21},void 0),e.jsxDEV(b,{className:"bg-gray-200",children:t.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:437,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:435,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:444,columnNumber:23},void 0),a.unreadCount>0&&e.jsxDEV(ae,{className:"ml-2",style:{backgroundColor:"rgb(245, 158, 11)",color:"white"},children:a.unreadCount},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:443,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 truncate",children:[t.sector," • ",t.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:454,columnNumber:21},void 0),a.lastMessage&&e.jsxDEV("p",{className:"text-xs text-gray-600 truncate mt-1",children:a.lastMessage.content},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:459,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:442,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:434,columnNumber:17},void 0)},a.id,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:427,columnNumber:15},void 0):null})},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:418,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:390,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col",children:m?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(p,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:(F=o.find(a=>m.participants.includes(a.id)&&a.id!==(s==null?void 0:s.id)))==null?void 0:F.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:480,columnNumber:21},void 0),e.jsxDEV(b,{className:"bg-gray-200",children:(U=o.find(a=>m.participants.includes(a.id)&&a.id!==(s==null?void 0:s.id)))==null?void 0:U.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:483,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:479,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:(V=o.find(a=>m.participants.includes(a.id)&&a.id!==(s==null?void 0:s.id)))==null?void 0:V.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:491,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[(W=o.find(a=>m.participants.includes(a.id)&&a.id!==(s==null?void 0:s.id)))==null?void 0:W.sector," • ",(w=o.find(a=>m.participants.includes(a.id)&&a.id!==(s==null?void 0:s.id)))==null?void 0:w.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:490,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(re,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:508,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:507,columnNumber:19},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(de,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:511,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:510,columnNumber:19},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(ce,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:514,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:513,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:477,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:476,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[D.map(a=>{var l;const t=a.senderId===(s==null?void 0:s.id),n=t?s:o.find(r=>r.id===a.senderId);return e.jsxDEV("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:e.jsxDEV("div",{className:`max-w-xs lg:max-w-md ${t?"order-2":"order-1"}`,children:[!t&&e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV(p,{className:"w-6 h-6",children:[e.jsxDEV(v,{src:n==null?void 0:n.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:535,columnNumber:29},void 0),e.jsxDEV(b,{className:"text-xs",children:(l=n==null?void 0:n.name)==null?void 0:l.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:536,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:534,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:n==null?void 0:n.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:540,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:533,columnNumber:25},void 0),e.jsxDEV("div",{className:`p-3 rounded-lg ${t?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsxDEV("p",{className:"text-sm",children:a.content},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:551,columnNumber:25},void 0),e.jsxDEV("div",{className:`flex items-center justify-between mt-2 text-xs ${t?"text-blue-100":"text-gray-500"}`,children:[e.jsxDEV("span",{children:a.createdAt?new Date(a.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:556,columnNumber:27},void 0),t&&e.jsxDEV("span",{className:"flex items-center gap-1",children:a.isRead?e.jsxDEV(ge,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:566,columnNumber:33},void 0):e.jsxDEV(ue,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:568,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:564,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:553,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:544,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:531,columnNumber:21},void 0)},a.id,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:527,columnNumber:19},void 0)}),e.jsxDEV("div",{ref:k},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:578,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:521,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white border-t border-gray-200 p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:585,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:584,columnNumber:17},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(oe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:588,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:587,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(ee,{placeholder:"Type your message...",value:d.content,onChange:a=>y({...d,content:a.target.value}),className:"min-h-[40px] max-h-32 resize-none",onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),P())}},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(c,{size:"sm",onClick:P,disabled:M||!d.content.trim(),style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:M?e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:613,columnNumber:21},void 0):e.jsxDEV(fe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:615,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:606,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:583,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:582,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:474,columnNumber:11},void 0):e.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(L,{className:"w-24 h-24 mx-auto mb-6 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:625,columnNumber:15},void 0),e.jsxDEV("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to Messages"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:626,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Start a conversation with other companies in the network"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:627,columnNumber:15},void 0),e.jsxDEV(c,{onClick:()=>h(!0),className:"flex items-center gap-2 mx-auto",style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:[e.jsxDEV(_,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:635,columnNumber:17},void 0),"Start New Conversation"]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:630,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:624,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:623,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:472,columnNumber:7},void 0),e.jsxDEV(se,{open:O,onOpenChange:h,children:e.jsxDEV(ne,{className:"max-w-md",children:[e.jsxDEV(te,{children:[e.jsxDEV(le,{children:"Start New Conversation"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:647,columnNumber:13},void 0),e.jsxDEV(ie,{children:"Choose a company to start messaging with"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:648,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:646,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV(C,{placeholder:"Search companies...",value:u,onChange:a=>j(a.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:654,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-60 overflow-y-auto space-y-2",children:J.map(a=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>Y(a),children:[e.jsxDEV(p,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:a.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:672,columnNumber:21},void 0),e.jsxDEV(b,{className:"bg-gray-200",children:a.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:673,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium text-gray-900",children:a.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:679,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[a.sector," • ",a.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:680,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:678,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${a.isOnline?"bg-green-500":"bg-gray-400"}`},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:686,columnNumber:21},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(L,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:688,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:687,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:685,columnNumber:19},void 0)]},a.id,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:666,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:664,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:653,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:645,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:644,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International Final/src/pages/MessagingSystem.tsx",lineNumber:388,columnNumber:5},void 0)};export{Ue as default};
