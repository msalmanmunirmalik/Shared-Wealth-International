import{c as z,u as X,a as Z,r as l,j as e,B as c,A as N,t as v,e as w}from"./index-qPOCZQJE.js";import{I as _}from"./input-D1-aCPBG.js";import{T as ee}from"./textarea-uC_aRSv3.js";import{B as se}from"./badge-FNW_prVm.js";import{D as ae,b as ne,c as te,d as re,e as le}from"./dialog-CWUYdkSc.js";import{P as A}from"./plus-DK6-MeiK.js";import{S as L}from"./search-BW_NkoOR.js";import{P as ie,a as me,S as oe}from"./smile-2FSV1Un8.js";import{V as de}from"./video-Bu9E7J4s.js";import{M as ce}from"./mail-DyR4Oz28.js";import{C as ue}from"./check-QJ-c06U4.js";import{M as T}from"./message-circle-BL216NJh.js";import"./index-1nCMb0eW.js";import"./Combination-xjPveCmq.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=z("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=z("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),Ue=()=>{var P,U,V,W,C;const{user:a}=X(),{toast:p}=Z(),[$,b]=l.useState([]),[m,x]=l.useState(null),[S,g]=l.useState([]),[o,q]=l.useState([]),[u,D]=l.useState(""),[ge,fe]=l.useState(null),[d,k]=l.useState({receiverId:"",content:"",messageType:"text",attachments:[]}),[R,O]=l.useState(!0),[j,y]=l.useState(!1),[B,f]=l.useState(!1),M=l.useRef(null);l.useEffect(()=>{a&&(F(),H())},[a]),l.useEffect(()=>{G()},[S]);const F=async()=>{try{const{data:s,error:t}=await supabase.from("network_companies").select("id, name, sector, country, logo").eq("status","active").neq("user_id",a==null?void 0:a.id);if(!t&&s){const n=s.map(r=>({...r,isOnline:Math.random()>.5,lastSeen:new Date(Date.now()-Math.random()*864e5)}));q(n)}if(a){const{data:n,error:r}=await supabase.from("conversations").select("*").contains("participants",[a.id]).order("updated_at",{ascending:!1});!r&&n&&b(n)}}catch(s){console.error("Error loading data:",s)}finally{O(!1)}},H=()=>{if(!a)return;const s=supabase.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${a.id}`},t=>{const n=t.new;g(r=>[...r,n]),I(n)}).subscribe();return()=>{supabase.removeChannel(s)}},I=s=>{b(t=>{const n=t.find(r=>r.participants.includes(s.senderId)&&r.participants.includes(s.receiverId));return n?t.map(r=>r.id===n.id?{...r,lastMessage:s,unreadCount:r.unreadCount+1,updatedAt:new Date}:r):[{participants:[s.senderId,s.receiverId],lastMessage:s,unreadCount:1,isPinned:!1,isArchived:!1,createdAt:new Date,updatedAt:new Date},...t]})},K=async s=>{x(s);try{const{data:t,error:n}=await supabase.from("messages").select("*").or(`and(sender_id.eq.${a==null?void 0:a.id},receiver_id.eq.${s.participants.find(r=>r!==(a==null?void 0:a.id))}),and(sender_id.eq.${s.participants.find(r=>r!==(a==null?void 0:a.id))},receiver_id.eq.${a==null?void 0:a.id})`).order("created_at",{ascending:!0});if(!n&&t){g(t);const r=t.filter(i=>i.receiverId===(a==null?void 0:a.id)&&!i.isRead);if(r.length>0){const i=r.map(h=>h.id);await supabase.from("messages").update({is_read:!0}).in("id",i)}}}catch(t){console.error("Error loading conversation:",t)}},E=async()=>{if(!(!a||!m||!d.content.trim())){y(!0);try{const s=m.participants.find(h=>h!==a.id);if(!s)throw new Error("Receiver not found");const t={sender_id:a.id,receiver_id:s,content:d.content,message_type:d.messageType,attachments:d.attachments||[],is_read:!1,is_starred:!1,is_pinned:!1,reply_to_id:d.replyToId,created_at:new Date().toISOString()},{data:n,error:r}=await supabase.from("messages").insert(t).select().single();if(r)throw r;const i={...n,senderId:n.sender_id,receiverId:n.receiver_id,isRead:n.is_read,isStarred:n.is_starred,isPinned:n.is_pinned,replyToId:n.reply_to_id,createdAt:new Date(n.created_at)};g(h=>[...h,i]),k({...d,content:"",attachments:[]}),I(i),p({title:"Message Sent",description:"Your message has been sent successfully"})}catch(s){console.error("Error sending message:",s),p({title:"Send Failed",description:s.message||"An error occurred while sending the message",variant:"destructive"})}finally{y(!1)}}},Y=async s=>{try{const t={participants:[a==null?void 0:a.id,s.id],unread_count:0,is_pinned:!1,is_archived:!1,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:n,error:r}=await supabase.from("conversations").insert(t).select().single();if(r)throw r;const i={...n,participants:n.participants,unreadCount:n.unread_count,isPinned:n.is_pinned,isArchived:n.is_archived,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)};b(h=>[i,...h]),x(i),g([]),f(!1),p({title:"Conversation Started",description:`Started a new conversation with ${s.name}`})}catch(t){console.error("Error starting conversation:",t),p({title:"Failed to Start Conversation",description:t.message||"An error occurred while starting the conversation",variant:"destructive"})}},G=()=>{var s;(s=M.current)==null||s.scrollIntoView({behavior:"smooth"})},J=o.filter(s=>s.name.toLowerCase().includes(u.toLowerCase())||s.sector.toLowerCase().includes(u.toLowerCase())||s.country.toLowerCase().includes(u.toLowerCase())),Q=$.filter(s=>{if(s.isArchived)return!1;if(u){const t=o.find(n=>s.participants.includes(n.id)&&n.id!==(a==null?void 0:a.id));return t&&(t.name.toLowerCase().includes(u.toLowerCase())||t.sector.toLowerCase().includes(u.toLowerCase()))}return!0});return R?e.jsxDEV("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 mx-auto mb-4",style:{borderColor:"rgb(245, 158, 11)"}},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:380,columnNumber:11},void 0),e.jsxDEV("p",{className:"text-gray-600",children:"Loading messaging system..."},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:381,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:379,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:378,columnNumber:7},void 0):e.jsxDEV("div",{className:"min-h-screen flex",style:{background:"linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%)"},children:[e.jsxDEV("div",{className:"w-80 bg-white border-r border-gray-200 flex flex-col",children:[e.jsxDEV("div",{className:"p-4 border-b border-gray-200",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("h1",{className:"text-xl font-semibold text-gray-900",children:"Messages"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:394,columnNumber:13},void 0),e.jsxDEV(c,{size:"sm",onClick:()=>f(!0),className:"flex items-center gap-2",style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:[e.jsxDEV(A,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:401,columnNumber:15},void 0),"New"]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:395,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:393,columnNumber:11},void 0),e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:407,columnNumber:13},void 0),e.jsxDEV(_,{placeholder:"Search conversations...",value:u,onChange:s=>D(s.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:408,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:406,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:392,columnNumber:9},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto",children:Q.map(s=>{const t=o.find(n=>s.participants.includes(n.id)&&n.id!==(a==null?void 0:a.id));return t?e.jsxDEV("div",{className:`p-4 border-b border-gray-100 cursor-pointer hover:bg-gray-50 transition-colors ${(m==null?void 0:m.id)===s.id?"bg-blue-50 border-blue-200":""}`,onClick:()=>K(s),children:e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(N,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:t.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:436,columnNumber:21},void 0),e.jsxDEV(w,{className:"bg-gray-200",children:t.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:437,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:435,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1 min-w-0",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:444,columnNumber:23},void 0),s.unreadCount>0&&e.jsxDEV(se,{className:"ml-2",style:{backgroundColor:"rgb(245, 158, 11)",color:"white"},children:s.unreadCount},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:448,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:443,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-500 truncate",children:[t.sector," • ",t.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:454,columnNumber:21},void 0),s.lastMessage&&e.jsxDEV("p",{className:"text-xs text-gray-600 truncate mt-1",children:s.lastMessage.content},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:459,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:442,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:434,columnNumber:17},void 0)},s.id,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:427,columnNumber:15},void 0):null})},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:418,columnNumber:9},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:390,columnNumber:7},void 0),e.jsxDEV("div",{className:"flex-1 flex flex-col",children:m?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"bg-white border-b border-gray-200 p-4",children:e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV(N,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:(P=o.find(s=>m.participants.includes(s.id)&&s.id!==(a==null?void 0:a.id)))==null?void 0:P.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:480,columnNumber:21},void 0),e.jsxDEV(w,{className:"bg-gray-200",children:(U=o.find(s=>m.participants.includes(s.id)&&s.id!==(a==null?void 0:a.id)))==null?void 0:U.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:483,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:479,columnNumber:19},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h2",{className:"text-lg font-semibold text-gray-900",children:(V=o.find(s=>m.participants.includes(s.id)&&s.id!==(a==null?void 0:a.id)))==null?void 0:V.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:491,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[(W=o.find(s=>m.participants.includes(s.id)&&s.id!==(a==null?void 0:a.id)))==null?void 0:W.sector," • ",(C=o.find(s=>m.participants.includes(s.id)&&s.id!==(a==null?void 0:a.id)))==null?void 0:C.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:496,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:490,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:478,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(ie,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:508,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:507,columnNumber:19},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(de,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:511,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:510,columnNumber:19},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(ce,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:514,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:513,columnNumber:19},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:506,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:477,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:476,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[S.map(s=>{var r;const t=s.senderId===(a==null?void 0:a.id),n=t?a:o.find(i=>i.id===s.senderId);return e.jsxDEV("div",{className:`flex ${t?"justify-end":"justify-start"}`,children:e.jsxDEV("div",{className:`max-w-xs lg:max-w-md ${t?"order-2":"order-1"}`,children:[!t&&e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxDEV(N,{className:"w-6 h-6",children:[e.jsxDEV(v,{src:n==null?void 0:n.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:535,columnNumber:29},void 0),e.jsxDEV(w,{className:"text-xs",children:(r=n==null?void 0:n.name)==null?void 0:r.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:536,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:534,columnNumber:27},void 0),e.jsxDEV("span",{className:"text-xs text-gray-500",children:n==null?void 0:n.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:540,columnNumber:27},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:533,columnNumber:25},void 0),e.jsxDEV("div",{className:`p-3 rounded-lg ${t?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsxDEV("p",{className:"text-sm",children:s.content},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:551,columnNumber:25},void 0),e.jsxDEV("div",{className:`flex items-center justify-between mt-2 text-xs ${t?"text-blue-100":"text-gray-500"}`,children:[e.jsxDEV("span",{children:s.createdAt?new Date(s.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:556,columnNumber:27},void 0),t&&e.jsxDEV("span",{className:"flex items-center gap-1",children:s.isRead?e.jsxDEV(he,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:566,columnNumber:33},void 0):e.jsxDEV(ue,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:568,columnNumber:33},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:564,columnNumber:29},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:553,columnNumber:25},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:544,columnNumber:23},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:531,columnNumber:21},void 0)},s.id,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:527,columnNumber:19},void 0)}),e.jsxDEV("div",{ref:M},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:578,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:521,columnNumber:13},void 0),e.jsxDEV("div",{className:"bg-white border-t border-gray-200 p-4",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(me,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:585,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:584,columnNumber:17},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(oe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:588,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:587,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV(ee,{placeholder:"Type your message...",value:d.content,onChange:s=>k({...d,content:s.target.value}),className:"min-h-[40px] max-h-32 resize-none",onKeyDown:s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),E())}},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:592,columnNumber:19},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:591,columnNumber:17},void 0),e.jsxDEV(c,{size:"sm",onClick:E,disabled:j||!d.content.trim(),style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:j?e.jsxDEV("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:613,columnNumber:21},void 0):e.jsxDEV(pe,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:615,columnNumber:21},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:606,columnNumber:17},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:583,columnNumber:15},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:582,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:474,columnNumber:11},void 0):e.jsxDEV("div",{className:"flex-1 flex items-center justify-center",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(T,{className:"w-24 h-24 mx-auto mb-6 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:625,columnNumber:15},void 0),e.jsxDEV("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Welcome to Messages"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:626,columnNumber:15},void 0),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Start a conversation with other companies in the network"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:627,columnNumber:15},void 0),e.jsxDEV(c,{onClick:()=>f(!0),className:"flex items-center gap-2 mx-auto",style:{backgroundColor:"rgb(245, 158, 11)",borderColor:"rgb(245, 158, 11)"},children:[e.jsxDEV(A,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:635,columnNumber:17},void 0),"Start New Conversation"]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:630,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:624,columnNumber:13},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:623,columnNumber:11},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:472,columnNumber:7},void 0),e.jsxDEV(ae,{open:B,onOpenChange:f,children:e.jsxDEV(ne,{className:"max-w-md",children:[e.jsxDEV(te,{children:[e.jsxDEV(re,{children:"Start New Conversation"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:647,columnNumber:13},void 0),e.jsxDEV(le,{children:"Choose a company to start messaging with"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:648,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:646,columnNumber:11},void 0),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(L,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:655,columnNumber:15},void 0),e.jsxDEV(_,{placeholder:"Search companies...",value:u,onChange:s=>D(s.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:656,columnNumber:15},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:654,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-h-60 overflow-y-auto space-y-2",children:J.map(s=>e.jsxDEV("div",{className:"flex items-center gap-3 p-3 rounded-lg border border-gray-200 cursor-pointer hover:bg-gray-50 transition-colors",onClick:()=>Y(s),children:[e.jsxDEV(N,{className:"w-10 h-10",children:[e.jsxDEV(v,{src:s.logo},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:672,columnNumber:21},void 0),e.jsxDEV(w,{className:"bg-gray-200",children:s.name.charAt(0).toUpperCase()},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:673,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:671,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV("h3",{className:"font-medium text-gray-900",children:s.name},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:679,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-500",children:[s.sector," • ",s.country]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:680,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:678,columnNumber:19},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("div",{className:`w-2 h-2 rounded-full ${s.isOnline?"bg-green-500":"bg-gray-400"}`},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:686,columnNumber:21},void 0),e.jsxDEV(c,{size:"sm",variant:"outline",children:e.jsxDEV(T,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:688,columnNumber:23},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:687,columnNumber:21},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:685,columnNumber:19},void 0)]},s.id,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:666,columnNumber:17},void 0))},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:664,columnNumber:13},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:653,columnNumber:11},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:645,columnNumber:9},void 0)},void 0,!1,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:644,columnNumber:7},void 0)]},void 0,!0,{fileName:"/Users/m.salmanmalik/Development Projects/Shared Wealth International/wealth-pioneers-network/src/pages/MessagingSystem.tsx",lineNumber:388,columnNumber:5},void 0)};export{Ue as default};
